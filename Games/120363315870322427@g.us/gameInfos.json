{"id":"120363315870322427@g.us","name":"Sims Yaound√©","dateCreated":1725980226553,"gameDateInfo":{"actualTime":1725980262977,"daysPassed":18,"period":"day","day":17,"strindDate":"Mer. 17 Jan undefined","month":1},"players":[{"id":"237676073559@s.whatsapp.net","isDead":false}],"upComingActions":["{\"initiator\":\"237676073559@s.whatsapp.net\",\"playersInvolved\":[],\"chanceToOccur\":100,\"reasonForFailure\":[],\"dateToBePerform\":118,\"action\":\"/Function(async (_Game, _action) => {\\r\\n                        let player = _Game.checkPlayer(_action.initiator)\\r\\n                        player.occupations = player.occupations.filter(_occup => !_action.actionPerformed.occupations.includes(_occup.occupation))\\r\\n                        player = _Game.UpdatePlayerAttribute(_action.initiator, \\\"occupations\\\", player.occupations)\\r\\n                        player = _Game.UpdatePlayerAttribute(_action.initiator, \\\"happiness\\\", player.occupations.length + player.happiness)\\r\\n                        player.skills.concat(_action.actionPerformed.skills.map(_skill => { return { \\\"skill\\\": _skill, \\\"level\\\": 1 } }))\\r\\n                        player = _Game.UpdatePlayerAttribute(_action.initiator, \\\"skills\\\", player.skills)\\r\\n                        await _Game.sendMessage(_action.initiator, {\\r\\n                            text: \\\"*Diplome Obtenu!üéâ*\\\\nVous avez enfin termin√© l'√©cole, vous avez d√©sormais comme capacit√©(s) *\\\" + _action.actionPerformed.skills.join(',') + \\\"*\\\\n\\\" +\\r\\n                                \\\"Vous pouvez d√©sormais chercher des Jobs avec cette(ces) capacit√©(s)\\\"\\r\\n                        })\\r\\n                    })/\",\"actionPerformed\":{\"id\":\"1\",\"name\":\"√âcole de m√©d√©cine\",\"skills\":[\"Docteur\"],\"occupations\":[\"√©tudiant\"],\"prix\":2000,\"dailyActionPoints\":3,\"daysToPerfom\":100,\"condition\":\"/Function((msg) => {\\r\\n                    if (msg.subAction.prix && msg.subAction.prix >= msg.player.bank.money) {\\r\\n                        msg.reply({ text: \\\"üòÇ T'es fauch√©! t'as pas assez d'argent pour √ßa!\\\\n\\\\nChoisi une autre √©cole ou envoie *!annuler* pour annuler l'action\\\" })\\r\\n                        return false;\\r\\n                    }\\r\\n                    let actionPointsLeft = 5;\\r\\n                    for (const _occup in msg.player.occupations) {\\r\\n                        actionPointsLeft -= _occup.points;\\r\\n                    }\\r\\n                    if (msg.subAction.dailyActionPoints && msg.subAction.dailyActionPoints > actionPointsLeft) {\\r\\n                        msg.reply({ text: \\\"Tu peux pas prendre cette action car elle sera de trop sur ton planning d√©j√† charg√©\\\\nTu as *\\\" + actionPointsLeft + \\\" temps libres restant* mais cette action demande d'en avoir *\\\" + msg.subAction.dailyActionPoints + \\\"*\\\\n\\\\nChoisi une autre √©cole ou envoie *!annuler* pour annuler l'action\\\" })\\r\\n                        return false\\r\\n                    }\\r\\n                    return true\\r\\n                })/\",\"action\":\"/Function((msg) => {\\r\\n\\r\\n                    msg.reply({ text: \\\"F√©licitaion!ü•≥\\\\nTu as rejoins l'universit√©!\\\\nTu recevra ton diplome dans *\\\" + msg.subAction.daysToPerfom + \\\"* Jours si tout ce passe bien\\\\n¬Ø\\\\_( Õ°¬∞ Õú ñ Õ°¬∞)_/¬Ø\\\\n\\\\nForce √† toi\\\" })\\r\\n\\r\\n                    // \\r\\n                    let player = msg.player;\\r\\n                    player = makeTransaction(msg, {\\r\\n                        amount: msg.subAction.prix,\\r\\n                        type: \\\"out\\\",\\r\\n                        to_from_id: 'game',\\r\\n                        to_from_name: msg.subAction.name\\r\\n                    })\\r\\n                    player.occupations.concat(msg.subAction.occupations.map(_occup => { return { \\\"occupation\\\": _occup, \\\"points\\\": msg.subAction.dailyActionPoints, \\\"skills\\\": msg.subAction.skills, \\\"endDate\\\": GetPlayerGroup(msg.player.id).gameDateInfo.daysPassed + msg.subAction.daysToPerfom } }))\\r\\n                    player.happiness -= player.occupations.length;\\r\\n\\r\\n                    UpdatePlayerAttribute(player.id, \\\"occupations\\\", player.occupations)\\r\\n                    UpdatePlayerAttribute(player.id, \\\"happiness\\\", player.happiness)\\r\\n                    msg.reply({ text: \\\"Tu as re√ßu *-\\\" + player.occupations.length + \\\"* points de bonheur\\\" })\\r\\n\\r\\n                    // DETERMINE FUTURE ACTION TO BE PERFORM\\r\\n                    let _actionToBePerform = { ...ActionToBePerform };\\r\\n                    _actionToBePerform.dateToBePerform = GetPlayerGroup(msg.player.id).gameDateInfo.daysPassed + msg.subAction.daysToPerfom;\\r\\n                    _actionToBePerform.initiator = msg.player.id\\r\\n                    _actionToBePerform.actionPerformed = msg.subAction\\r\\n                    _actionToBePerform.action = async (_Game, _action) => {\\r\\n                        let player = _Game.checkPlayer(_action.initiator)\\r\\n                        player.occupations = player.occupations.filter(_occup => !_action.actionPerformed.occupations.includes(_occup.occupation))\\r\\n                        player = _Game.UpdatePlayerAttribute(_action.initiator, \\\"occupations\\\", player.occupations)\\r\\n                        player = _Game.UpdatePlayerAttribute(_action.initiator, \\\"happiness\\\", player.occupations.length + player.happiness)\\r\\n                        player.skills.concat(_action.actionPerformed.skills.map(_skill => { return { \\\"skill\\\": _skill, \\\"level\\\": 1 } }))\\r\\n                        player = _Game.UpdatePlayerAttribute(_action.initiator, \\\"skills\\\", player.skills)\\r\\n                        await _Game.sendMessage(_action.initiator, {\\r\\n                            text: \\\"*Diplome Obtenu!üéâ*\\\\nVous avez enfin termin√© l'√©cole, vous avez d√©sormais comme capacit√©(s) *\\\" + _action.actionPerformed.skills.join(',') + \\\"*\\\\n\\\" +\\r\\n                                \\\"Vous pouvez d√©sormais chercher des Jobs avec cette(ces) capacit√©(s)\\\"\\r\\n                        })\\r\\n                    }\\r\\n\\r\\n                    AddActionToBePerformed(msg.player.id, _actionToBePerform)\\r\\n                })/\"}}"]}
